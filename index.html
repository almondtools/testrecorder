        <!DOCTYPE html>
      <html>
                <head>
                  <meta charset="utf-8"/>
              <meta name="google-site-verification" content="zi2eDd9lPMxUKII5BagZe7uZLJdM-xwB3MYmn7At8m4"/>
              <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
              <link rel="stylesheet" href="custom.css"/>
              <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/default.min.css"/>
                  <title>Testrecorder - Create Test Fixtures from Runnable Java Code</title>
      <meta name="description" content="Create Test Fixtures from Runnable Java Code"/>
  </head>
            <body>
                            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
                  <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                  <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
  </button>
          <a href="download.html" class="navbar-brand">
    Testrecorder
  </a>
  </div>
              <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
              <li class="active">  <a href="index.html">
    Home
  </a></li>
          <li >  <a href="download.html">
    Get it!
  </a></li>
          <li >  <a href="license.html">
    License
  </a></li>
  </ul>
  </div>
  </div>
  </nav>
                      <div class="jumbotron">
      <div class="container">
              <h1>Testrecorder</h1>
          <p>Create Test Fixtures from Runnable Java Code</p>
          <p>  <a href="download.html" class="btn btn-primary">
    Get Testrecorder
  </a>   <a href="https://github.com/almondtools/testrecorder" class="btn btn-default">
    Github
  </a></p>
  </div>
  </div>
              <div class="container">
                  <section>
                  <div class="row">
              <div class="col-md-push-8 col-md-4">
            
  </div>
          <div class="col-md-pull-4 col-md-8">
                  <p>                  <strong>Testrecorder</strong> is a tool for generating test code from runnable Java code. The generated tests can then be executed with a
                JUnit-Runner. 
                  <ul>
                          <li>You can use these tests as part of your integration tests</li>
                      <li>Or you can try to refactor them to make up proper unit tests</li>
                      <li>Even without reusing the generated code it could give valuable insights for code understanding</li>
  </ul> </p>
              <p>                It is not recommended to replace a test-driven strategy with generated-test strategy but in many cases the productive code is there 
                and the tests are missing. In this case the first step should be to fix the current behavior by creating integration tests. This task 
                is often hard and thankless.   <strong>Testrecorder</strong> can support you in this case.</p>
              <p>                We shall start with some basics on Runtime Object Serialization. This action has a simple interface, yet it is not as powerful as test 
                recording. Then we shall dive into the configuration of Test Recording.</p>
  </div>
  </div>
  </section>
              <section>
                  <div class="row">
              <div class="col-md-push-8 col-md-4">
                      <div class="panel panel-default">
              <div class="panel-heading">
      <h3 class="panel-title">Example Object</h3>
  </div>
          <div class="panel-body">
                          <div>
      <pre><code class="java">public class ExampleObject {
    private String name;
    
    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
}</code></pre>
  </div>
  </div>
  </div>
  </div>
          <div class="col-md-pull-4 col-md-8">
                  <h2>Runtime Object Serialization - the Basics</h2>
              <p>                The following examples will expect following code setup:
                      <div>
      <pre><code class="java">ExampleObject exampleObject = new ExampleObject();
exampleObject.setName(&quot;Testrecorder&quot;);</code></pre>
  </div></p>
              <h3>Serializing any Object as constructing Java Code</h3>
              <p>                Serializing an Object to constructing code is done this way:
                      <div>
      <pre><code class="java">CodeSerializer codeSerializer = new CodeSerializer();
String code = codeSerializer.serialize(exampleObject);</code></pre>
  </div></p>
              <p>                The string       <code >code</code> will then contain:
                      <div>
      <pre><code class="java">ExampleObject exampleObject1 = new ExampleObject();
exampleObject1.setName(&quot;Testrecorder&quot;);
ExampleObject serializedObject1 = exampleObject1;</code></pre>
  </div></p>
              <div class="alert alert-info" role="alert">
                    Note that   <strong>Testrecorder</strong> recognizes the java bean property and uses it for constructing the object. Yet
                  <strong>Testrecorder</strong> is not limited to java beans.
  </div>
            
              <h3>Serializing any Object as Hamcrest Matcher Code</h3>
              <p>                Serializing an Object to Hamcrest matcher code affords some more work:
                      <div>
      <pre><code class="java"> SerializationProfile profile = new DefaultSerializationProfile();
 SerializerFacade facade = new ConfigurableSerializerFacade(profile);
 SerializedValueVisitorFactory factory = new ObjectToMatcherCode.Factory();
 
 CodeSerializer codeSerializer = new CodeSerializer(facade, factory);
 String code = codeSerializer.serialize(objectToSerialize);</code></pre>
  </div></p>
              <p>                The string       <code >code</code> will then contain:
                      <div>
      <pre><code class="java">Matcher&lt;ExampleObject&gt; serializedObject1 = new GenericMatcher() {
    String name = &quot;Testrecorder&quot;;
}.matching(ExampleObject.class);</code></pre>
  </div></p>
              <div class="alert alert-info" role="alert">
                    Note that   <strong>Testrecorder</strong> generates a compact custom matcher for this object. One could argue that a java bean could
                be tested by doing assertions on the properties. But this does not scale well if many properties are involved or if the properties
                themselves are objects.
  </div>
            
              <h3>Serializing is configurable</h3>
              <p>                As could be seen in the section for Hamcrest Matcher Code, there are several classes than can be adjusted to
                change the way the code is serialized. So if somebody decides that the current matcher code is not in readable form, he might
                write a new       <code >SerializedValueVisitorFactory</code> that serializes small beans as a sequence of property assertions.</p>
            
  </div>
  </div>
              <div class="row">
              <div class="col-md-push-8 col-md-4">
            
  </div>
          <div class="col-md-pull-4 col-md-8">
                  <h2>Test Recording - Advanced Topics</h2>
              <p>                Test Recording is strictly putting together the upper code for Runtime Object Serialization.</p>
              <h3>How to start</h3>
              <p>                  <ul>
                          <li>Put the test recorder jar on your class path</li>
                      <li>You will also need the jar with dependencies</li>
                      <li>Select one method of interest and annotate it with       <code >@Snapshot</code>. Now the Testrecorder knows which method has to be recorded.</li>
                      <li>                        Configure your Testrecording by writing a class       <code >YourConfig implements SnapshotConfig</code>
                          <ul>
                                  <li>      <code >getSnapshotConsumer</code> should return an instance of       <code >ScheduledTestGenerator</code></li>
                              <li>      <code >getTimeoutMillis</code> may be set to       <code >100.000</code></li>
                              <li>      <code >getPackages</code> should return the packages containing the classes/methods you want to record</li>
                              <li>      <code >getInitializer</code> may be set to       <code >null</code></li>
  </ul></li>
                      <li>start your application with       <code >-javaagent:testrecorder-jar-with-dependencies.jar=YourConfig</code></li>
  </ul></p>
              <h3>Examples</h3>
              <p>examples can be found at   <a href="https://github.com/almondtools/testrecorder-examples">
    Testrecorder Examples
  </a></p>
              <h3>Custom Serializers</h3>
              <p>                Sometimes you will encounter problems with automatic serialization because the testrecorder engine does not know the best abstraction how to serialize 
                an object. In most times it will choose the       <code >GenericSerializer</code> class, which is very generic but may contain too much of unnecessary data.

                If you depend on an Object that should be serialized in a special way, you can define a new       <code >CustomSerializer implements Serializer&lt;SerializedObject&gt;</code>.
                Each serializer has:
                  <ul>
                          <li>a method  return all classes this serializer can handle</li>
                      <li>a method  being just a factor method to create an empty serialized value</li>
                      <li>a method  being a method that is passed both the empty serialized value and the object to serialize. This should store all necessary information into the serialized value</li>
                      <li>(recommended) an inner class  to return an instance of this serializer.</li>
  </ul></p>
              <p>                To enable       <code >CustomSerializer</code> 
                  <ul>
                          <li>you should define a       <code >SerializationProfile</code> and add your serializer's factory to the list returned in       <code >getSerializerFactories</code></li>
                      <li>you should set the profile attribute of your       <code >@Snapshot</code> annotation to this profile class</li>
  </ul></p>
              <h3>Custom Serialized Values</h3>
              <p>                In most cases the existing serialized value types should be sufficient. In most cases       <code >SerializedObject</code> should do. So if you need your custom serialized value 
                than create it and reference it from your Custom Serializer.</p>
              <h3>Adaptors (Custom Deserializers)</h3>
              <p>                You can also modify your output code by introducing custom deserializers. More on that in later updates.</p>
            
  </div>
  </div>
  </section>
              <section>
              <h2>More about Testrecorder</h2>
          <p>            The current power of Testrecorder is beyond that mentioned in the examples. Testrecorder can:   <ul>
                      <li>serialize objects by constructor, by property setters or by using a combination of both</li>
                  <li>fallback to object construction by reflection if the upper will not work (it is quite readable compared to the java reflection api)</li>
                  <li>deal with (most) java generics problems (reduced errors/warnings in generated code)</li>
  </ul>
            To get an impression on the full power you may visit   <a href="https://github.com/almondtools/testrecorder">
      <strong>Testrecorder on GitHub</strong>
  </a> or 
              <a href="https://github.com/almondtools/testrecorder-examples">
      <strong>Testrecorder Examples on Github</strong>
  </a>.</p>
  </section>
              <section>
              <h2>Authors</h2>
          <p>  <a href="http://www.amygdalum.net">
    Stefan Mandel
  </a></p>
  </section>
  </div>
              <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
              <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
              <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
              <script>hljs.initHighlightingOnLoad()</script>
  </body>
  </html>